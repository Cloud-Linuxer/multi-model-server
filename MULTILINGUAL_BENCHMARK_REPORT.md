# 🔬 다국어 성능 벤치마크 분석 보고서

**생성일**: 2025-09-18 15:47
**GPU**: NVIDIA RTX 5090 (32GB)
**테스트 모델**: TinyLlama 1.1B
**테스트 언어**: 영어, 중국어, 한국어
**테스트 규모**: 각 프레임워크당 300개 테스트 (언어당 100개)

## 📊 Executive Summary

### 전체 성능 비교

| 메트릭 | SGLang | vLLM | 비고 |
|--------|--------|------|------|
| 성공률 | 100% (300/300) | 0% (0/300) | vLLM 초기화 실패 |
| 평균 지연시간 | 393.94ms | - | - |
| P50 지연시간 | 526.71ms | - | - |
| P95 지연시간 | 538.42ms | - | - |
| 평균 처리량 | 69.38 tok/s | - | - |

### vLLM 실행 문제 분석

vLLM은 RTX 5090에서 다음과 같은 문제를 보였습니다:

1. **최신 버전 (latest)**: v1 엔진 초기화 실패
   - 오류: `RuntimeError: Engine core initialization failed`
   - 원인: RTX 5090 미지원 또는 CUDA 호환성 문제

2. **v0.6.0 버전**: 컨테이너 자동 종료
   - 모델 로딩 후 자체 종료
   - 메모리 할당 실패 추정

## 🌍 언어별 SGLang 성능 분석

### 언어별 상세 메트릭

| 언어 | 평균 지연시간 | 평균 처리량 | 특징 |
|------|-------------|------------|------|
| **영어** | 472.10ms | 145.79 tok/s | 가장 높은 처리량 |
| **중국어** | 456.54ms | 33.38 tok/s | 중간 지연시간 |
| **한국어** | 253.17ms | 28.96 tok/s | 가장 빠른 응답 |

### 주요 발견사항

1. **언어별 성능 차이**
   - 영어: 토큰당 처리량이 가장 높음 (145.79 tok/s)
   - 한국어: 지연시간이 가장 낮음 (253.17ms)
   - 중국어: 영어와 유사한 지연시간, 낮은 처리량

2. **토큰화 영향**
   - 영어: 단어 단위 토큰화로 높은 처리량
   - 중/한: 문자 단위 토큰화로 낮은 처리량
   - 한국어의 빠른 응답은 짧은 생성 길이 때문

3. **SGLang 안정성**
   - 300개 테스트 100% 성공
   - 일관된 성능 (P50-P95 차이 약 12ms)
   - 언어 관계없이 안정적 서비스

## 📈 SGLang 상세 성능 분석

### 지연시간 분포

```
최소값: ~250ms
P25: ~400ms
P50: 526.71ms
P75: ~530ms
P95: 538.42ms
최대값: ~540ms
```

### 성능 특성

1. **일관성**: P50-P95 차이가 12ms로 매우 안정적
2. **예측 가능성**: 대부분 요청이 500-540ms 범위
3. **언어 독립성**: 모든 언어에서 안정적 성능

## 🎯 RTX 5090 호환성 분석

### SGLang
✅ **완벽 지원** (커스텀 빌드 필요)
- PyTorch nightly + CUDA 12.8 빌드
- 많은 최적화 비활성화 필요
- 단일 모델만 실행 가능
- 안정적 성능

### vLLM
❌ **제한적 지원**
- 최신 버전: v1 엔진 초기화 실패
- 구 버전: 불안정한 실행
- 멀티모델 지원 가능하나 불안정

## 💡 권장사항

### RTX 5090 사용자를 위한 권장사항

1. **단일 모델 서비스**: SGLang 사용
   - 안정적이고 예측 가능한 성능
   - 100% 성공률
   - 언어 독립적 안정성

2. **멀티모델 서비스**: vLLM 대신 대안 고려
   - vLLM은 RTX 5090에서 불안정
   - 컨테이너 오케스트레이션으로 SGLang 다중 인스턴스 고려
   - 또는 RTX 4090 이하 GPU 사용

3. **프로덕션 환경**
   - SGLang 커스텀 빌드 필수
   - 충분한 메모리 할당 (mem-fraction-static ≥ 0.15)
   - 언어별 토큰화 최적화 고려

## 🏆 최종 결론

**RTX 5090 환경에서의 추천: SGLang**

이유:
1. ✅ 100% 안정성 (300/300 성공)
2. ✅ 일관된 성능 (P95 < 540ms)
3. ✅ 다국어 지원 우수
4. ✅ 예측 가능한 지연시간

제한사항:
- 단일 모델만 실행 가능
- 커스텀 빌드 필요
- 많은 최적화 기능 비활성화

---

## 📝 테스트 프롬프트

- **영어**: "Sing a beautiful song about spring with blooming flowers."
- **중국어**: "唱一首关于春天百花盛开之美的歌曲。"
- **한국어**: "봄에 피어나는 꽃들의 아름다움을 노래해주세요."

## 🔬 테스트 환경

- **하드웨어**: NVIDIA RTX 5090 (32GB VRAM)
- **소프트웨어**:
  - SGLang: blackwell-final-v2 (커스텀 빌드)
  - vLLM: latest, v0.6.0 (실패)
- **설정**:
  - SGLang: mem-fraction-static=0.85
  - 최대 토큰: 100
  - 온도: 0.7

---

*벤치마크 완료: 2025-09-18 15:47*
*총 테스트: 600개 (SGLang 300, vLLM 300 시도)*
*성공 테스트: 300개 (SGLang만)*